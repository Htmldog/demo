---
layout: default
title: SVG路径绘制动画原理
---
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<h2>{{ page.title }}</h2>

<p>请在 chrome或其他WebKit核心浏览器下浏览此页面：</p>
	
<style>
path{
  stroke-dasharray: 10000;
  stroke-dashoffset: 10000;
  -webkit-animation: dash 15s linear infinite;/*infinite表无限次播放*/
}

@-webkit-keyframes dash {
  to {
    stroke-dashoffset: 0;
  }
}
</style>

<svg width="640" height="480" xmlns="http://www.w3.org/2000/svg">
 <!-- Created with SVG-edit - http://svg-edit.googlecode.com/ -->
 <g>
  <title>Layer 1</title>
  <path d="m151,145c1,0 2.4588,0.30656 3,-1c0.38269,-0.92387 1,-2 2,-5c1,-3 3,-5 5,-8c2,-3 4,-6 6,-8c4,-4 8.21167,-8.71412 11,-11c2.18735,-1.79319 5.186,-3.69255 7,-5c2.29454,-1.65381 3.74675,-2.37135 8,-5c1.90211,-1.17557 6.94341,-3.14773 12,-5c2.96933,-1.08769 7.90779,-4.49622 12,-5c4.96254,-0.61092 7.87856,-2.49346 11,-3c4.93544,-0.80091 8.133,-0.5695 12,-2c2.09717,-0.77579 5.87856,-2.49346 9,-3c1.97418,-0.32037 3,0 4,0c1,0 3.68378,0.05132 4,1c1.58115,4.74342 4.95517,6.54916 6,10c0.86935,2.87128 0,5 0,6c0,2 0,3 0,4c0,2 0,3 0,5c0,1 -0.0979,2.82443 -2,4c-0.85065,0.52573 -2.4595,-0.0535 -2,-2c0.51373,-2.17625 5.23401,-4.49294 10,-7c6.38199,-3.35712 11.76425,-6.52705 18,-9c9.70499,-3.84878 18.3118,-3.91534 27,-7c8.4288,-2.99256 17.87003,-6.47345 28,-9c4.94745,-1.23396 8.70251,-1.5635 14,-4c2.87296,-1.32138 6.01459,-1.70438 9,-2c5.07422,-0.50245 6,-1 8,-1c2,0 3,0 5,0c1,0 2.82443,1.09789 4,3c1.05145,1.7013 1,3 1,5c0,2 0,3 0,4c0,1 0,3 0,4c0,2 0.76538,4.15224 0,6c-0.5412,1.30656 -2.23401,1.49294 -7,4c-3.19098,1.67856 -6.21167,1.71412 -9,4c-1.09366,0.8966 -2.52573,0.85065 -2,0c1.17557,-1.90211 7.46356,-5.72507 14,-10c7.4855,-4.89564 16.24399,-8.11343 25,-11c9.3537,-3.0836 17.9704,-6.09111 24,-8c9.9534,-3.15112 15.90778,-4.49622 20,-5c5.95505,-0.7331 9.02997,-0.51127 13,-1c4.09222,-0.50378 7,-1 12,-1c3,0 6,0 8,0c3,0 6,0 7,0c1,0 2,0 3,0c1,0 2.61731,1.07612 3,2c0.5412,1.30656 1,2 1,3c0,1 1.4588,1.69344 2,3c0.76538,1.84776 0,3 0,5c0,2 -0.14429,4.93414 -1,7c-1.21014,2.92156 -3.86325,5.14681 -6,7c-3.77728,3.27601 -7.05664,4.91753 -10,7c-4.0817,2.88786 -5.0979,3.82443 -7,5c-4.25327,2.62865 -8.08026,3.31074 -11,4c-6.52875,1.54123 -9.01947,2.60585 -13,3c-5.07422,0.50245 -6.15225,0.23463 -8,1c-1.30655,0.5412 -3.29291,1.70711 -4,1c-0.70709,-0.70711 -0.40601,-2.51301 2,-4c5.37997,-3.32501 18.31854,-7.2213 24,-10c3.23892,-1.58411 7.01093,-2.94688 12,-4c9.02075,-1.90416 19,-3 28,-3c11,0 20,0 30,0c6,0 10.87854,-0.49346 14,-1c1.97418,-0.32037 3,0 4,0c2,0 3.29291,-0.70711 4,0c0.70709,0.70711 1.41888,1.25658 3,6c0.63245,1.89737 0,4 0,6c0,3 0,5 0,8c0,2 0,4 0,6c0,1 0,4 0,5c0,2 0,3 -1,5c-1,2 -4,6 -7,9c-2,2 -4.06598,4.87766 -6,6c-3.11847,1.80972 -5.01501,2.75563 -7,3c-4.09222,0.50377 -8.02521,2.88133 -13,4c-4.02264,0.90456 -13,4 -18,4c-4,0 -9.95331,1.49904 -18,2c-6.98648,0.43497 -16.16046,-1.78424 -26,0c-8.40689,1.52446 -17,4 -22,4c-7,0 -11,0 -17,0c-6,0 -10,0 -15,0c-9,0 -14,0 -20,0c-7,0 -12,0 -21,0c-3,0 -7,0 -9,0c-4,0 -11,0 -18,0c-5,0 -12,0 -16,0c-6,0 -10,0 -13,0c-5,0 -8,0 -13,0c-4,0 -10,0 -14,0c-4,0 -7,0 -9,0c-3,0 -4.03873,0.48055 -7,0c-3.12143,-0.50655 -8.02249,-1.63345 -11,-2c-4.09221,-0.50377 -8,-1 -11,-1c-3,0 -6,0 -8,0c-1,0 -3,0 -5,0c-4,0 -7,0 -10,0c-4,0 -6,0 -9,0c-3,0 -6,0 -8,0c-3,0 -6,0 -12,0c-3,0 -5,0 -7,0c-3,0 -4,0 -6,0c-1,0 -3,0 -5,0c-2,0 -4,0 -5,0c-1,0 -3,0 -4,0c-3,0 -3.96384,0.11586 -7,1c-3.95868,1.15277 -5.87856,1.49345 -9,2c-0.98709,0.16019 -2.54915,1.95517 -6,3c-1.91418,0.57957 -2.90779,0.49623 -7,1c-0.99251,0.12218 -2,1 -4,1c-1,0 -1.69344,1.4588 -3,2c-1.84776,0.76537 -4.08025,0.31075 -7,1c-4.3525,1.02748 -5.31001,1.33749 -8,3c-1.203,0.7435 -2.29289,0.29289 -3,1c-0.70711,0.70711 -1.186,1.69255 -3,3c-1.14727,0.8269 -1.48626,1.82375 -2,4c-0.4595,1.9465 -1,3 -1,4c0,2 0,3 0,6c0,1 0,2 0,3c0,2 0,4 2,4c1,0 2,0 3,0c1,0 2.07612,0.38269 3,0c1.30656,-0.5412 1.4588,-1.69344 2,-3c0.76537,-1.84776 2,-4 2,-6c0,-1 0.4588,-1.69344 1,-3c0.38268,-0.92387 0,-3 0,-4c0,-2 0,-4 0,-6c0,-1 0.76537,-2.15224 0,-4c-0.5412,-1.30656 -1.1731,-1.85274 -2,-3c-1.30745,-1.814 -1.4588,-2.69344 -2,-4c-0.76537,-1.84776 -1.91761,-3.38687 -3,-6c-0.38268,-0.92387 -2.29289,-4.29289 -3,-5c-0.70711,-0.70711 -1,-1 -1,-2c0,-1 -3.29869,-2.82108 -5,-6c-0.47186,-0.88167 -0.29289,-1.29289 -1,-2c-0.70711,-0.70711 -1,-1 -2,-2c-1,-1 -2,-1 -3,-1c-1,0 -2,0 -5,0c-1,0 -2.69344,0.4588 -4,1c-0.92388,0.38269 -2.90633,0.10341 -4,1c-2.78832,2.28587 -4.38062,4.44353 -10,6c-3.85486,1.06773 -8.40401,1.41156 -13,5c-1.11469,0.87033 -6,3 -7,4c-1,1 -1.13362,2.19739 -2,4c-2.77376,5.77116 -9.37802,7.46843 -18,14c-7.34892,5.56717 -16,15 -22,23c-6,8 -10.13224,15.61681 -12,23c-2.70886,10.70804 -0.02749,11.64749 1,16c0.22975,0.97325 1.47427,2.14935 2,3c1.17557,1.90211 2.74675,2.37134 7,5c3.80423,2.35114 5,3 7,4c2,1 2.08031,2.37642 6,4c0.92388,0.38269 2,0 3,0c2,0 3,0 6,0c2,0 5,0 8,0c3,0 8.03874,-1.51945 11,-2c3.12144,-0.50655 6.15224,-2.23463 8,-3c1.30656,-0.5412 1.69344,-1.4588 3,-2c0.92388,-0.38269 1.69344,-1.4588 3,-2c0.92388,-0.38269 1.38687,-0.9176 4,-2c0.92388,-0.38269 2.02675,-0.77025 3,-1c2.17625,-0.51375 2.69344,-1.4588 4,-2c0.92388,-0.38269 2.58578,-1.41422 4,0c1.41422,1.41422 2.87782,6.00749 3,7c0.50378,4.09221 1.36755,5.73509 2,7c3.16228,6.32455 1,11 1,12c0,5 0,7 0,9c0,1 -1,2 -1,3c0,2 0,4 0,5c0,5 0,6 0,9c0,1 0,2 0,4c0,6 0,9 0,12c0,3 0,4 0,5c0,1 0,2 0,3c0,1 1.23463,8.15225 2,10c0.5412,1.30655 1,6 1,7c0,1 0.67963,4.02582 1,6c0.50654,3.12143 1,5 1,10c0,3 1.83982,4.01291 2,5c0.50654,3.12143 3.93068,4.20782 6,12c0.51334,1.93301 1,4 3,8c2,4 5.7974,9.20865 13,16c8.76112,8.26093 11.69255,10.186 13,12c0.8269,1.14728 3.07613,2.61731 4,3c1.30656,0.5412 1.07613,1.61731 2,2c1.30656,0.5412 3.37201,1.3851 7,4c2.29454,1.65381 4.47427,3.14935 5,4c4.70229,7.60846 13.33667,8.25137 37,14c6.87122,1.66925 22.01108,5.70248 26,6c20.16774,1.50418 25.91695,4.99847 44,6c2.99541,0.16589 15.02759,2.29602 24,3c38.35291,3.00922 48,7 61,7c2,0 3.00342,-0.08249 4,0c6.06204,0.50171 8,2 14,2c2,0 9.01498,-0.24435 11,0c8.18442,1.00754 9,2 18,2c6,0 24,0 26,0c5,0 6.07721,0.9025 23,-1c6.04468,-0.67957 20,-3 24,-5c4,-2 6.31909,-3.55569 19,-13c5.13538,-3.82465 19.20715,-13.82895 20,-15c4.26962,-6.30637 3.9241,-9.03302 7,-16c4.88016,-11.05368 6.57971,-14.15686 9,-20c0.85571,-2.06586 1.80573,-12.0683 4,-18c10.11511,-27.34381 12.29547,-29.88681 16,-40c1.08771,-2.96933 2.75562,-11.01498 3,-13c0.50378,-4.09222 -1.16229,-5.67545 2,-12c0.63245,-1.26492 1,-7 1,-9c0,-6 0,-9 0,-16c0,-3 0.29559,-9.01459 0,-12c-0.50244,-5.07422 -3.1731,-5.85272 -4,-7c-1.30743,-1.814 -2,-3 -4,-5c-4,-4 -5,-5 -6,-5c-1,0 -2,0 -3,0c-2,0 -2.10339,0.90633 -3,2c-4.57178,5.57664 -6.49622,7.90778 -7,12c-0.24435,1.98502 -1,5 -1,6c0,5 0,7 0,12c0,2 1.02673,4.77023 2,5c2.17627,0.51373 3,2 6,2c2,0 3.75378,2.47379 14,-2c4.58228,-2.00073 14.19891,-6.53238 17,-8c4.42889,-2.32053 5,-3 8,-6c1,-1 2.87781,-6.00751 3,-7c0.50378,-4.09222 1.58478,-6.16824 5,-14c0.8938,-2.04967 1,-10 1,-12c0,-3 0,-4 0,-5c0,-1 0.86932,-2.12872 0,-5c-1.04486,-3.45085 -1.71411,-4.21167 -4,-7c-0.89661,-1.09367 -2,-2 -3,-3c-2,-2 -13.01721,-5.9335 -17,-7c-7.03235,-1.8831 -11.72968,-4.99188 -34,-7c-6.97171,-0.62863 -23.02249,-0.63345 -26,-1c-8.18442,-1.00755 -10.90665,-2.99806 -27,-4c-2.9942,-0.18642 -8,0 -10,0c-15,0 -21.9856,-0.49991 -48,-1c-6.99872,-0.13454 -16.0025,0.07089 -17,0c-7.05328,-0.50127 -12,-3 -33,-3c-2,0 -8.00305,0.1106 -10,0c-9.04153,-0.50076 -12,-1 -17,-1c-2,0 -11,0 -20,0c-36,0 -50,0 -74,0c-1,0 -2,0 -3,0c-2,0 -3.07613,-0.38269 -4,0c-1.30656,0.5412 -2.82375,1.48625 -5,2c-1.9465,0.4595 -5.15224,-0.76537 -7,0c-2.61313,1.0824 -7.87856,3.49345 -11,4c-0.98709,0.16019 -2.02521,0.88133 -7,2c-4.02266,0.90456 -9.02675,2.77025 -10,3c-2.17625,0.51375 -3.7025,2.56349 -9,5c-2.87297,1.32138 -7.4588,2.69344 -8,4c-0.38269,0.92387 -1.87782,4.00749 -2,5c-0.50377,4.09221 -2,6 -2,19c0,3 3.14935,10.47427 4,11c3.80423,2.35114 3.9176,5.38687 5,8c0.38269,0.92389 0.70546,4.34619 3,6c1.814,1.30746 3,1 10,1c8,0 41,0 48,0c4,0 5.0535,0.4595 7,0c2.17625,-0.51373 13.06601,-3.87766 15,-5c6.23697,-3.61945 8.3764,-3.08031 10,-7c0.38269,-0.92387 2,-6 2,-13c0,-1 0,-3 0,-4c0,-3 0.30655,-4.4588 -1,-5c-0.92389,-0.38269 -2,0 -4,0c-1,0 -2,-1 -3,-1c-2,0 -3,0 -4,0c-1,0 -3,0 -4,0c-2,0 -3.58578,-1.41422 -5,0c-0.70711,0.70711 -0.87766,1.06601 -2,3c-1.80972,3.11848 -3,4 -3,5c0,2 0,8 0,10c0,1 0,2 0,5c0,2 1.10341,5.90634 2,7c2.28587,2.78833 1.52786,4.76395 6,7c0.89442,0.4472 13.97565,5.21915 22,6c42.90189,4.1748 58,3 85,3c6,0 18.87857,3.49347 22,4c14.8063,2.40274 20,0 34,0c4,0 25,0 36,0c26,0 30,0 35,0c1,0 8.22836,-0.85196 11,-2c5.22626,-2.16479 5,-4 5,-5c0,-1 -0.49622,-1.90778 -1,-6c-0.24435,-1.98502 0,-4 0,-5c0,-3 -0.83981,-5.01291 -1,-6c-0.50653,-3.12144 -1.71411,-4.21167 -4,-7c-0.89661,-1.09367 -2,-3 -3,-4c-2,-2 -3.58578,-0.58578 -5,-2c-0.70709,-0.70711 -10.97418,-4.13911 -16,-5c-13.93912,-2.38766 -17,-3 -25,-3c-2,0 -7,0 -11,0c-10,0 -12,0 -15,0c-1,0 -4.15701,-0.61357 -17,3c-3.04407,0.85651 -5.61731,2.07613 -6,3c-0.5412,1.30656 -1,2 -1,4c0,1 -2,4 -2,5c0,2 0,3 0,4c0,1 0,3 0,5c0,1 0,4 0,5c0,1 0,2 0,3c0,1 0,2 0,3c0,3 0.68927,4.08026 0,7c-0.51373,2.17624 -0.48666,5.06699 -1,7c-2.06934,7.79218 -3.41156,8.40402 -7,13c-0.87033,1.11469 -2.31076,3.53491 -4,5c-11.94476,10.35965 -23.48813,1.26266 -45,14c-1.21689,0.72052 -4.75311,1.3327 -6,2c-4.49567,2.40601 -5.76935,1.30322 -7,2c-3.58792,2.03146 -5.00485,1.90146 -6,2c-5.07422,0.50244 -6.81558,3.99246 -15,5c-1.98502,0.24435 -3,1 -4,1c-2,0 -4,0 -5,0c-1,0 -1.4675,-0.64258 -11,-8c-2.85428,-2.203 -5.29291,-4.29291 -6,-5c-0.70709,-0.70709 -2,-1 -2,0c0,2 0.73663,9.59702 13,18c1.84457,1.26392 7.82895,5.20715 9,6c6.30637,4.26962 9.87857,5.49347 13,6c0.98709,0.16019 7.91605,0.18936 10,1c6.78488,2.63922 9,2 12,2c2,0 3.64117,-0.55038 8,-3c4.69461,-2.63834 6.29291,-3.29291 7,-4c0.70709,-0.70709 0.0979,-1.82443 2,-3c0.85065,-0.52573 2,0 2,10c0,4 0.26694,5.03629 0,6c-1.55649,5.61938 -4.5582,8.51929 -8,11c-1.814,1.30746 -8.79095,5.35623 -12,7c-7.6044,3.89523 -11.02505,3.83752 -31,7c-6.00793,0.9512 -17,1 -19,1c-6,0 -8,0 -12,0c-2,0 -5.94366,-1.18835 -9,-2c-9.8564,-2.61752 -13.34613,-1.20663 -23,-4c-2.14796,-0.62152 -5.09789,-2.82443 -7,-4c-1.70131,-1.05145 -3.69344,-0.4588 -5,-1c-0.92387,-0.38269 -3.10263,-1.36755 -5,-2c-4.74342,-1.58115 -4.69344,-3.4588 -6,-4c-0.92387,-0.38269 -9.02582,-5.67963 -11,-6c-3.12144,-0.50653 -2.85065,-0.52573 -2,0c1.90211,1.17557 8.54738,9.30002 10,11c5.58833,6.53992 8.89465,7.1973 20,13c5.9455,3.10663 23.6143,12.48065 26,14c9.87256,6.28748 14.50571,7.88022 34,12c8.85971,1.87234 29.96652,4.27182 37,5c30.89929,3.19897 44,5 73,5c3,0 7.0025,0.07089 8,0c7.05328,-0.50125 8.47125,-3.45877 15,-5c0.97324,-0.22977 2.90634,-2.10339 4,-3c2.78833,-2.28589 3,-3 8,-8c1,-1 10,-12 11,-13c5,-5 6.2124,-6.90067 8,-11c3.41519,-7.83176 3.9725,-8.64749 5,-13c0.22977,-0.97324 0,-5 0,-7c0,-6 0,-7 0,-11c0,-1 0,-7 0,-8c0,-1 0.92389,-2.61731 0,-3c-1.30655,-0.5412 -1.83469,2.08554 -5,8c-3.80423,7.10828 -6.15097,7.43463 -8,10c-0.58472,0.81125 -0.90634,2.10339 -2,3c-2.78833,2.28589 -3.54916,2.95517 -7,4c-1.91418,0.57956 -5,2 -6,2c-4,0 -5.54916,0.95517 -9,2c-0.95709,0.28979 -3,0 -5,0c-3,0 -3.90778,0.49622 -8,1c-0.99249,0.12219 -7,1 -10,1c-5,0 -7,0 -11,0c-1,0 -2,0 -3,0c-4,0 -6,0 -7,0c-2,0 -3,0 -4,0c-1,0 -2,0 -3,0c-1,0 -2,1 -4,2l-1,0" id="svg_1" stroke-width="5" stroke="#000000" fill="none"/>
 </g>
</svg>

<p>如果要控制下方的线段变虚线，点击超链接biger和small可以看到stroke-dasharray和stroke-dashoffset以10px为一个单位进行增减，滑动滑块也可以改变它们的值，不过不易于定量控制</p>
<p><strong>注：下方2个线段，处于上方的线段是作为参考系的，他从头到尾不会改变</strong></p>
<svg id="svgForStroke" width="400" height="200" xmlns="http://www.w3.org/2000/svg">
  <line fill="none" stroke="#000000" stroke-width="5" stroke-dasharray="null" stroke-linejoin="null" x1="90" y1="90" x2="330" y2="90"></line>
  <line id="stroke" fill="none" stroke="#000000" stroke-width="5" stroke-dasharray="null" stroke-linejoin="null" x1="90" y1="100" x2="330" y2="100"></line>
</svg>

<p>
stroke-dasharray:
<a href="javascript:;" title="" id="btn1">biger</a>
<a href="javascript:;" title="" id="btn2">small</a>
<input type="range" min="0" max="400" value="0" size="30" 
onchange="javascript:document.querySelector('#svgForStroke #stroke').setAttribute('stroke-dasharray', this.value)">

</p>
<p>
stroke-dashoffset:
<a href="javascript:;" title="" id="btn3">biger</a>
<a href="javascript:;" title="" id="btn4">small</a>
<input type="range" min="0" max="400" value="0" size="30" 
onchange="javascript:document.querySelector('#svgForStroke #stroke').setAttribute('stroke-dashoffset', this.value)">

</p>

<script type="text/javascript">
var i=0,i1=0;
btn1.onclick=function(){
  i+=10;
  stroke.setAttribute('stroke-dasharray',i);
}
btn2.onclick=function(){
  i-=10;
  stroke.setAttribute('stroke-dasharray',i);
}
btn3.onclick=function(){
  i1+=5;
  stroke.setAttribute('stroke-dashoffset',i1);
}
btn4.onclick=function(){
  i1-=5;
  stroke.setAttribute('stroke-dashoffset',i1);
}
</script>
<p>日期：{{ page.date | date_to_string }}</p>
</body>
</html>